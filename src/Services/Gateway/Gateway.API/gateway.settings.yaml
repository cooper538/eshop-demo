# yaml-language-server: $schema=./Configuration/gateway.settings.schema.json
# Gateway Service Configuration
# Environment-specific overrides: gateway.settings.{Environment}.yaml

AllowedHosts: "*"

Logging:
  LogLevel:
    Default: "Information"
    Microsoft.AspNetCore: "Warning"
    Yarp: "Information"

Gateway:
  Service:
    Name: "Gateway"
    Version: "1.0.0"

  RateLimiting:
    Enabled: true
    PermitLimit: 100
    WindowSeconds: 60
    QueueLimit: 0

ReverseProxy:
  Routes:
    products-route:
      ClusterId: "product-cluster"
      RateLimiterPolicy: "fixed"
      Match:
        Path: "/api/products/{**catch-all}"

    orders-route:
      ClusterId: "order-cluster"
      RateLimiterPolicy: "fixed"
      Match:
        Path: "/api/orders/{**catch-all}"

  Clusters:
    product-cluster:
      Destinations:
        product-service:
          Address: "http://product-service"

    order-cluster:
      Destinations:
        order-service:
          Address: "http://order-service"
